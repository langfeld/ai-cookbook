---
const base = import.meta.env.BASE_URL.replace(/\/?$/, '/');
const screenshots = [
  {
    src: `${base}screenshots/rezepte-uebersicht.webp`,
    alt: 'Rezept√ºbersicht mit Karten-Grid',
    label: 'Rezept√ºbersicht',
  },
  {
    src: `${base}screenshots/rezept-detail.webp`,
    alt: 'Rezeptdetail mit Zutatenliste und Kochschritten',
    label: 'Rezeptdetail',
  },
  {
    src: `${base}screenshots/kochmodus.webp`,
    alt: 'Immersiver Kochmodus mit Schritt-Anzeige',
    label: 'Kochmodus',
  },
  {
    src: `${base}screenshots/wochenplan.webp`,
    alt: '7-Tage-Wochenplaner mit Drag & Drop',
    label: 'Wochenplaner',
  },
  {
    src: `${base}screenshots/einkaufsliste.webp`,
    alt: 'Einkaufsliste mit Supermarkt-Abteilungen',
    label: 'Einkaufsliste',
  },
  {
    src: `${base}screenshots/export.webp`,
    alt: 'Exportfunktion f√ºr viele Daten',
    label: 'Exportfunktion',
  },
]
---

<section id="showcase" class="relative py-24 sm:py-32 overflow-hidden">
  <div class="relative mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
    <!-- Section Header -->
    <div class="mx-auto mb-16 max-w-3xl text-center reveal">
      <div class="inline-flex items-center gap-2 mb-4 px-3 py-1.5 rounded-full font-medium text-sm bg-accent-100/60 text-accent-600 dark:bg-accent-900/20 dark:text-accent-400">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
        Screenshots
      </div>
      <h2 class="font-display font-bold text-stone-900 dark:text-stone-50 text-3xl sm:text-4xl lg:text-5xl">
        So sieht's aus
      </h2>
      <p class="mt-4 text-stone-600 dark:text-stone-400 text-lg">
        Klicke auf ein Bild f√ºr die Vollansicht.
      </p>
    </div>

    <!-- Screenshot Grid -->
    <div class="gap-6 lg:gap-8 grid sm:grid-cols-2 lg:grid-cols-3 reveal-stagger">
      {screenshots.map((shot) => (
        <div class="group cursor-pointer reveal" data-lightbox={shot.src}>
          <div class="relative bg-stone-100 dark:bg-stone-800 shadow-sm hover:shadow-2xl hover:shadow-primary-500/10 border border-stone-200/80 dark:border-stone-800/80 rounded-2xl overflow-hidden transition-all hover:-translate-y-2 duration-500">
            <!-- Screenshot -->
            <div class="aspect-[5/4] overflow-hidden">
              <img
                src={shot.src}
                alt={shot.alt}
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                loading="lazy"
                onerror={`this.parentElement.innerHTML='<div class="flex justify-center items-center bg-linear-to-br from-stone-100 dark:from-stone-800 to-stone-200 dark:to-stone-900 h-full"><div class="p-6 text-center"><div class="mb-3 text-4xl">üì∏</div><div class="font-medium text-stone-400 dark:text-stone-500 text-sm">${shot.label}</div></div></div>'`}
              />
            </div>

            <!-- Label overlay on hover -->
            <div class="absolute inset-0 flex items-end bg-gradient-to-t from-stone-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
              <div class="p-4 w-full">
                <span class="font-medium text-white text-sm">{shot.label}</span>
              </div>
            </div>

            <!-- Zoom icon -->
            <div class="top-3 right-3 absolute bg-white/80 dark:bg-stone-900/80 opacity-0 group-hover:opacity-100 backdrop-blur-sm p-2 rounded-xl transition-all translate-y-2 group-hover:translate-y-0 duration-300">
              <svg class="w-4 h-4 text-stone-600 dark:text-stone-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/><path d="M11 8v6"/><path d="M8 11h6"/>
              </svg>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
